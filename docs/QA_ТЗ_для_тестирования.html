<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:w="urn:schemas-microsoft-com:office:word">
<head>
<meta charset="UTF-8">
<meta name="ProgId" content="Word.Document">
<meta name="Generator" content="Microsoft Word">
<title>QA ТЗ для тестирования — Padix</title>
<style>
body { font-family: Calibri, Arial, sans-serif; font-size: 11pt; line-height: 1.5; }
h1 { font-size: 18pt; margin-top: 12pt; margin-bottom: 6pt; }
h2 { font-size: 14pt; margin-top: 12pt; margin-bottom: 6pt; }
h3 { font-size: 12pt; margin-top: 10pt; margin-bottom: 4pt; }
table { border-collapse: collapse; margin: 8pt 0; }
th, td { border: 1px solid #000; padding: 4pt 8pt; text-align: left; }
th { background: #f0f0f0; font-weight: bold; }
ul { margin: 4pt 0; }
li { margin: 2pt 0; }
p { margin: 4pt 0; }
hr { margin: 12pt 0; border: none; border-top: 1px solid #ccc; }
.checkbox { font-family: 'Courier New'; }
</style>
</head>
<body>

<h1>Техническое задание для тестирования — Padix</h1>
<p><b>Версия:</b> 1.0</p>
<p><b>Дата:</b> 2025-02-02</p>
<p><b>Назначение:</b> Полное ТЗ для передачи тестировщику</p>
<hr>

<h2>1. Общее описание</h2>
<p><b>Padix</b> — веб-приложение для организации игр в падел. Пользователи могут:</p>
<ul>
<li>создавать игры и записываться на них;</li>
<li>вести учёт очков и рейтинга;</li>
<li>добавлять друзей и приглашать их на игры;</li>
<li>просматривать рейтинг и историю матчей.</li>
</ul>
<p><b>Стек:</b> React + TypeScript (фронтенд), Kotlin + Spring Boot (бэкенд), PostgreSQL.</p>
<hr>

<h2>2. Роли пользователей</h2>
<table>
<tr><th>Роль</th><th>Описание</th></tr>
<tr><td><b>Гость</b></td><td>Не авторизован. Видит рейтинг, список игр. Не может записываться, создавать игры, вводить счёт.</td></tr>
<tr><td><b>Участник</b></td><td>Авторизован, прошёл опрос. Может записываться на игры, добавлять друзей, видеть профиль.</td></tr>
<tr><td><b>Автор игры</b></td><td>Создал игру. Может закрывать регистрацию, начинать игру, вводить счёт, завершать игру, удалять участников (до закрытия регистрации).</td></tr>
<tr><td><b>Администратор</b></td><td>Отдельный вход на /admin. Управление пользователями (отключение, редактирование, создание).</td></tr>
</table>
<hr>

<h2>3. Маршруты (страницы)</h2>
<table>
<tr><th>Путь</th><th>Название</th><th>Доступ</th></tr>
<tr><td>/</td><td>Главная</td><td>Все</td></tr>
<tr><td>/rating</td><td>Рейтинг</td><td>Все</td></tr>
<tr><td>/login</td><td>Вход</td><td>Гости</td></tr>
<tr><td>/register</td><td>Регистрация</td><td>Гости</td></tr>
<tr><td>/survey</td><td>Опрос (тест рейтинга)</td><td>Обязательно после регистрации</td></tr>
<tr><td>/games</td><td>Список игр</td><td>Все</td></tr>
<tr><td>/create</td><td>Создать игру</td><td>Только авторизованные</td></tr>
<tr><td>/profile</td><td>Профиль</td><td>Только авторизованные</td></tr>
<tr><td>/events/:id</td><td>Страница игры</td><td>Все (разный функционал)</td></tr>
<tr><td>/admin</td><td>Админка</td><td>Администратор</td></tr>
</table>
<hr>

<h2>4. Сценарии для тестирования</h2>

<h3>4.1. Регистрация и вход</h3>
<p><b>Регистрация (/register)</b></p>
<ul class="checkbox">
<li>☐ Регистрация с валидными email, паролем, именем — успех, редирект на опрос.</li>
<li>☐ Дубликат email — ошибка.</li>
<li>☐ Пустые поля — ошибка валидации.</li>
<li>☐ Некорректный email — ошибка.</li>
</ul>
<p><b>Вход (/login)</b></p>
<ul class="checkbox">
<li>☐ Правильные email и пароль — успех, редирект на главную или опрос (если не пройден).</li>
<li>☐ Неверный пароль — ошибка.</li>
<li>☐ Несуществующий email — ошибка.</li>
</ul>
<p><b>Обязательный опрос</b></p>
<ul class="checkbox">
<li>☐ После регистрации пользователь перенаправляется на /survey.</li>
<li>☐ Без прохождения опроса нельзя зайти на остальные страницы (кроме /survey).</li>
<li>☐ Все вопросы опроса должны быть заполнены для отправки.</li>
<li>☐ После отправки показывается предварительный рейтинг и количество калибровочных игр.</li>
</ul>
<hr>

<h3>4.2. Главная страница (/)</h3>
<ul class="checkbox">
<li>☐ Отображаются ближайшие игры (до 2 недель).</li>
<li>☐ Отображается топ-3 игроков с аватарами и рейтингами.</li>
<li>☐ Статистика: активные игроки, игры сегодня, матчи за неделю.</li>
<li>☐ Кнопки «Найти игру», «Создать игру» (или «Регистрация» для гостей).</li>
<li>☐ Аватары игроков отображаются (если загружены).</li>
</ul>
<hr>

<h3>4.3. Рейтинг (/rating)</h3>
<ul class="checkbox">
<li>☐ Таблица игроков: рейтинг, NTRP, кол-во матчей.</li>
<li>☐ Аватары игроков отображаются.</li>
<li>☐ Топ-3 игроков в карточках.</li>
<li>☐ При авторизации: клик по игроку открывает тултип (рейтинг, NTRP, матчи, кнопка «Добавить в друзья»).</li>
<li>☐ Гости видят только рейтинг. После регистрации — доступ к рейтингу.</li>
</ul>
<hr>

<h3>4.4. Список игр (/games)</h3>
<ul class="checkbox">
<li>☐ Список предстоящих игр (до 14 дней), с датой, временем, формой «Американка».</li>
<li>☐ Кнопка «Календарь» открывает календарь.</li>
<li>☐ Календарь: переключение месяцев, выбор дня, список игр на выбранный день.</li>
<li>☐ Кнопка «Подробнее» ведёт на страницу игры.</li>
<li>☐ Бейджи статусов: «Регистрация», «В процессе», «Завершено».</li>
</ul>
<hr>

<h3>4.5. Создание игры (/create)</h3>
<p><b>Поля:</b></p>
<ul>
<li>Название (по умолчанию «Американка»)</li>
<li>Дата и время начала/окончания</li>
<li>Количество кортов (1–8)</li>
<li>Названия кортов (автозаполнение при смене кол-ва)</li>
<li>Режим: «Равный бой» (BALANCED) или «Круговая» (ROUND_ROBIN)</li>
<li>Очки на игрока за матч (по умолчанию 6)</li>
</ul>
<p><b>Валидация:</b></p>
<ul class="checkbox">
<li>☐ Дата и время должны быть в будущем.</li>
<li>☐ Время окончания должно быть позже начала.</li>
<li>☐ Без авторизации — редирект на логин.</li>
</ul>
<p><b>Результат:</b></p>
<ul class="checkbox">
<li>☐ Создание игры — редирект на страницу игры.</li>
</ul>
<hr>

<h3>4.6. Страница игры (/events/:id)</h3>
<h4>4.6.1. Статусы игры</h4>
<table>
<tr><th>Статус</th><th>Описание</th></tr>
<tr><td>DRAFT</td><td>Черновик (не используется в текущем UI)</td></tr>
<tr><td>OPEN_FOR_REGISTRATION</td><td>Регистрация открыта</td></tr>
<tr><td>REGISTRATION_CLOSED</td><td>Регистрация закрыта</td></tr>
<tr><td>IN_PROGRESS</td><td>Игра идёт</td></tr>
<tr><td>FINISHED</td><td>Игра завершена</td></tr>
<tr><td>CANCELLED</td><td>Отменена</td></tr>
</table>

<h4>4.6.2. Регистрация (OPEN_FOR_REGISTRATION)</h4>
<ul class="checkbox">
<li>☐ Отображаются зарегистрированные игроки (с аватарами, рейтингом).</li>
<li>☐ Кнопка «Записаться» — для авторизованных.</li>
<li>☐ Кнопка «Вы записаны (отменить)» — для записанных.</li>
<li>☐ <b>Только автор:</b> кнопка «Закрыть регистрацию», «Пригласить» (слоты для друзей).</li>
<li>☐ <b>Только автор:</b> крестики удаления у участников; при удалении — подтверждение.</li>
<li>☐ После закрытия регистрации крестики удаления исчезают.</li>
</ul>

<h4>4.6.3. REGISTRATION_CLOSED</h4>
<ul class="checkbox">
<li>☐ <b>Только автор:</b> кнопка «Начать игру».</li>
<li>☐ Участники не могут начать игру.</li>
</ul>

<h4>4.6.4. Игра идёт (IN_PROGRESS)</h4>
<p><b>Раунды и матчи:</b></p>
<ul class="checkbox">
<li>☐ Раунды отображаются в виде раскрывающихся блоков.</li>
<li>☐ В каждом раунде — матчи (по количеству кортов).</li>
<li>☐ У матча: команды A и B, игроки с аватарами, счёт.</li>
</ul>
<p><b>Ввод счёта (только автор, режим POINTS):</b></p>
<ul class="checkbox">
<li>☐ Клик по матчу — он становится активным, появляется панель ввода.</li>
<li>☐ Выбор очков для команды A или B.</li>
<li>☐ При вводе очков одной команды — автозаполнение второй (если сумма должна быть полной).</li>
<li>☐ <b>Автосохранение:</b> любой ввод сохраняется как черновик через ~700 мс.</li>
<li>☐ При переключении на другой корт — сохраняется предыдущий матч.</li>
<li>☐ Кнопка «Следующий корт» — если в раунде есть ещё незасчитанные матчи.</li>
<li>☐ Кнопка «Следующий раунд» — если все матчи раунда засчитаны.</li>
<li>☐ При неполной сумме очков — сохраняется черновик, переход к следующему корту.</li>
<li>☐ При полной сумме — финальный счёт, переход к следующему корту/раунду.</li>
</ul>
<p><b>Добавление раундов:</b></p>
<ul class="checkbox">
<li>☐ Кнопка «+ Раунд» — добавляет новый раунд с уникальными парами (не повторяет предыдущие).</li>
</ul>
<p><b>Завершение игры:</b></p>
<ul class="checkbox">
<li>☐ <b>Только автор:</b> кнопка «Завершить игру».</li>
<li>☐ При завершении черновики очков автоматически становятся финальными.</li>
</ul>

<h4>4.6.5. Игра завершена (FINISHED)</h4>
<ul class="checkbox">
<li>☐ Кнопка «Статистика игры» (только для режима POINTS).</li>
<li>☐ Открывается модальное окно со списком игроков и их очками.</li>
</ul>

<h4>4.6.6. Приглашения в игру</h4>
<ul class="checkbox">
<li>☐ <b>Только автор:</b> кнопка «Пригласить» — открывает список друзей.</li>
<li>☐ Можно пригласить только друзей.</li>
<li>☐ Участник видит приглашение в уведомлениях и профиле.</li>
</ul>
<hr>

<h3>4.7. Профиль (/profile)</h3>
<p><b>Данные профиля:</b></p>
<ul class="checkbox">
<li>☐ Имя, email, публичный ID (копирование по клику).</li>
<li>☐ Рейтинг, NTRP, кол-во матчей.</li>
<li>☐ Аватар: загрузка с устройства, выбор из URL (например, dicebear.com).</li>
<li>☐ Аватар сохраняется в БД и отображается везде.</li>
</ul>
<p><b>Секция «Друзья»:</b></p>
<ul class="checkbox">
<li>☐ Добавление по ID (формат #123456789).</li>
<li>☐ Список друзей и входящих заявок.</li>
<li>☐ Аватары друзей отображаются.</li>
<li>☐ Клик по другу — тултип (рейтинг, NTRP, матчи).</li>
<li>☐ ID не отображается в списке друзей.</li>
<li>☐ В заявках: «Принять» / «Отклонить».</li>
</ul>
<p><b>Секция «История матчей»:</b></p>
<ul class="checkbox">
<li>☐ Список игр с датами, рейтинговыми изменениями.</li>
<li>☐ Клик по игре — детали матчей (счёт, результат, команды).</li>
</ul>
<p><b>История инвайтов:</b></p>
<ul class="checkbox">
<li>☐ Список приглашений в игры.</li>
<li>☐ «Принять» / «Отклонить».</li>
</ul>
<hr>

<h3>4.8. Уведомления (иконка колокольчика в шапке)</h3>
<ul class="checkbox">
<li>☐ Отображается количество непрочитанных.</li>
<li>☐ Разделы: «Приглашения в игры», «Заявки в друзья».</li>
<li>☐ В заявках: аватар, имя (без ID).</li>
<li>☐ «Принять» / «Отклонить» для заявок в друзья.</li>
<li>☐ «Принять» / «Отклонить» для приглашений в игры.</li>
<li>☐ «Открыть игру» для приглашений.</li>
</ul>
<hr>

<h3>4.9. Адаптивность</h3>
<ul class="checkbox">
<li>☐ Корректное отображение на десктопе (≥1024px).</li>
<li>☐ Корректное отображение на планшете (768–1023px).</li>
<li>☐ Корректное отображение на мобильном (&lt;768px).</li>
<li>☐ На мобильной версии страницы игры: имена игроков над/под счётом.</li>
<li>☐ Мобильное меню открывается/закрывается.</li>
</ul>
<hr>

<h3>4.10. Ошибки и граничные случаи</h3>
<ul class="checkbox">
<li>☐ Несуществующий ID игры — сообщение «Событие не найдено» или 404.</li>
<li>☐ Истёкший токен — редирект на логин.</li>
<li>☐ Ошибка сети — понятное сообщение.</li>
<li>☐ Дубликат записи на игру — сообщение об ошибке.</li>
<li>☐ Попытка сохранить счёт без прохождения опроса — «Нужно пройти опрос».</li>
<li>☐ Сохранение счёта не автором — «Сохранять счёт может только автор игры».</li>
<li>☐ Валидация очков: сумма не должна превышать pointsPerPlayer * 4.</li>
</ul>
<hr>

<h3>4.11. Админка (/admin)</h3>
<ul class="checkbox">
<li>☐ Отдельная форма входа (логин/пароль).</li>
<li>☐ Список пользователей с поиском.</li>
<li>☐ Редактирование: имя, email, пароль, отключение.</li>
<li>☐ Создание пользователя.</li>
<li>☐ Восстановление аккаунта (для отключённых).</li>
</ul>
<hr>

<h2>5. Данные для тестирования</h2>
<p><b>Тестовый пользователь:</b> создать через регистрацию или админку.</p>
<p><b>Публичный ID:</b> формат #100000001 (цифры). Используется для добавления в друзья и приглашений.</p>
<p><b>Режимы подсчёта:</b> только POINTS (очки). Черновики очков поддерживаются только в режиме POINTS.</p>
<hr>

<h2>6. Чек-лист критичных сценариев</h2>
<ol class="checkbox">
<li>☐ Регистрация → Опрос → Вход → Профиль.</li>
<li>☐ Создание игры → Запись участников → Закрытие регистрации → Начало игры.</li>
<li>☐ Ввод очков при 2 кортах: сохранение обоих матчей, автосохранение в черновик.</li>
<li>☐ Завершение игры → Проверка статистики и рейтинга.</li>
<li>☐ Добавление в друзья по ID → Принятие заявки → Приглашение на игру.</li>
<li>☐ Аватары отображаются везде (профиль, рейтинг, список игр, друзья, уведомления).</li>
<li>☐ Смена пользователя: аватар не «переезжает» между аккаунтами (нет утечки localStorage).</li>
</ol>
<hr>

<h2>7. Известные ограничения</h2>
<ul>
<li>Поддерживается только формат «Американка».</li>
<li>Режим подсчёта — только POINTS.</li>
<li>Сохранение счёта — только автор игры.</li>
<li>Черновики очков — только для режима POINTS.</li>
<li>Админка доступна по отдельному URL и токену.</li>
</ul>
<hr>

<h2>8. Контакты и среда</h2>
<p><b>URL:</b> уточнить у разработчика (localhost / staging / production).</p>
<p><b>Backend:</b> Spring Boot, порт по умолчанию 8080.</p>
<p><b>Frontend:</b> Vite, порт по умолчанию 5173.</p>

</body>
</html>
